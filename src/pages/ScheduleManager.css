@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

/* ✅ 외부 스크롤 확실히 차단 (권장 전역 설정) */
html, body, #root { height: 100%; overflow: hidden; }

/* …(상단 공통 설정 동일: 생략 없이 그대로 두세요)… */
.schedule-app{
  --bg-color:#F8F9FA;
  --primary-white:#FFFFFF;
  --border-color:#E5E7EB;
  --text-color:#2F3438;
  --text-light-color:#868E96;

  --accent-color:#C9A227;
  --accent-grad-1:#F2D16B;
  --accent-grad-2:#C9A227;

  --personal-color:#5D76A9;
  --shared-color:#6AAB9C;

  --font-family:'Poppins',system-ui,-apple-system,'Segoe UI',Roboto,'Noto Sans KR',Arial,sans-serif;
  --shadow-sm:0 4px 6px rgba(0,0,0,.06);
  --shadow-md:0 10px 22px rgba(0,0,0,.1);

  --border-radius:14px;

  font-family:var(--font-family);
  /* ✅ 회색 배경 제거 */
  background:#fff;
  color:var(--text-color);

  /* ✅ 외부 스크롤 완전 차단: 뷰포트에 고정 */
  position:fixed; inset:0;
  /* fixed이므로 height:auto로 두고 내부 플렉스로 채움 */
  height:auto;

  display:flex;
  flex-direction:column;
  overflow:hidden;
  box-sizing:border-box;
  padding:1.8rem 2.2rem 2rem;
}

.schedule-app *{ box-sizing:border-box; }

.schedule-app *::-webkit-scrollbar{width:8px;height:8px}
.schedule-app *::-webkit-scrollbar-track{background:var(--bg-color)}
.schedule-app *::-webkit-scrollbar-thumb{background:#cfcfcf;border-radius:4px}
.schedule-app *::-webkit-scrollbar-thumb:hover{background:#bdbdbd}

/* 레이아웃 */
.schedule-app{max-width:1400px;margin:0 auto;}
.schedule-app .app-header{
  display:flex;justify-content:space-between;align-items:center;
  margin-bottom:1.1rem;
  flex:0 0 auto
}
.schedule-app .app-title{display:flex;align-items:center;gap:.55rem;font-size:2.2rem;font-weight:700;margin:0;color:var(--text-color)}
.schedule-app .title-icon{display:inline-flex;align-items:center;justify-content:center}

.schedule-app .calendar-toggle-btn{
  display:flex;align-items:center;gap:.5rem;
  padding:.56rem 1rem;
  background:linear-gradient(145deg,var(--primary-white),#f6f6f6);
  border:1px solid var(--border-color);border-radius:12px;color:var(--text-color);
  font-size:.93rem;font-weight:600;cursor:pointer;transition:all .25s ease;box-shadow:var(--shadow-sm);
}
.schedule-app .calendar-toggle-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--accent-color);color:var(--accent-color)}
.schedule-app .btn-icon{display:inline-flex;align-items:center;justify-content:center}

/* 메인 그리드 */
.schedule-app .main-view{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:1.3rem;           /* 유지 (패널 간격) */
  flex:1 1 auto;
  min-height:0;
  align-items:start;     /* 패널을 위로 정렬 */
  overflow:hidden;       /* ✅ 바깥으로 새는 스크롤 차단, 내부만 스크롤 */
}

/* ⬇️ 어제/오늘/내일 패널: 전체 창 세로 높이만 살짝 축소 */
.schedule-app .schedule-column{
  background:var(--primary-white);border-radius:var(--border-radius);
  padding:.7rem .9rem .7rem;   /* 그대로 유지 (내부 사이즈는 변경 없음) */
  box-shadow:var(--shadow-md);
  display:flex;flex-direction:column;
  min-height:0;
  height:calc(100% - 48px);
}
.schedule-app .schedule-column.taller{
  min-height:0;
  height:calc(100% - 48px);
}

/* ⬇️ 패널 타이틀 (내부 사이즈는 유지) */
.schedule-app .column-title{
  font-size:1.14rem;
  font-weight:600;
  margin:0 0 .5rem;
  display:flex;align-items:baseline;gap:.5rem
}
.schedule-app .column-title .column-date{font-size:.86rem;font-weight:400;color:var(--text-light-color)}

/* 패널 내부 리스트 */
.schedule-app .schedule-list{flex:1;overflow-y:auto;padding-right:8px;margin-right:-8px}
.schedule-app .no-schedules{color:var(--text-light-color);text-align:center;padding-top:.8rem}

/* 아이템(내부 요소) — 변경 없음 */
.schedule-app .schedule-item{
  display:flex;align-items:center;gap:.56rem;
  padding:.40rem .6rem;
  background:var(--bg-color);border-radius:10px;
  margin-bottom:.44rem;
  border-left:5px solid transparent;transition:all .25s ease;position:relative;cursor:grab
}
.schedule-app .schedule-item.compact{
  padding:.38rem .56rem;
  margin-bottom:.38rem;
}
.schedule-app .schedule-item:active{cursor:grabbing}
.schedule-app .schedule-item:hover{transform:translateX(4px);box-shadow:var(--shadow-sm)}
.schedule-app .schedule-item.completed{opacity:.5}
.schedule-app .schedule-details{flex:1}
.schedule-app .schedule-title{margin:0 0 .18rem;font-weight:600;font-size:.88rem}
.schedule-app .schedule-title.small{font-size:.84rem}
.schedule-app .schedule-meta{display:flex;align-items:center;gap:.5rem;font-size:.76rem;color:var(--text-light-color)}
.schedule-app .schedule-meta.smaller{font-size:.72rem}
.schedule-app .schedule-time{display:flex;align-items:center;gap:.22rem}
.schedule-app .schedule-type{padding:.1rem .42rem;border-radius:999px;font-size:.66rem;font-weight:700;color:#fff}
.schedule-app .schedule-type.personal{background:var(--personal-color)}
.schedule-app .schedule-type.shared{background:var(--shared-color)}
.schedule-app .schedule-actions{display:flex;gap:.26rem;opacity:0;transition:opacity .25s ease}
.schedule-app .schedule-item:hover .schedule-actions{opacity:1}
.schedule-app .action-btn{background:none;border:none;padding:.14rem;cursor:pointer;color:var(--text-light-color)}
.schedule-app .action-btn:hover{color:var(--accent-color)}

/* 체크박스 크기 유지(요청 반영 버전 유지) */
.schedule-app .checkbox-container{position:relative}
.schedule-app .checkbox-container input[type="checkbox"]{display:none}
.schedule-app .checkbox-container label{
  display:inline-block;width:24px;height:24px;
  border:2px solid var(--border-color);border-radius:50%;cursor:pointer;
  transition:all .25s ease;position:relative
}
.schedule-app .checkbox-container input[type="checkbox"]:checked + label{
  background:var(--accent-color);border-color:var(--accent-color)
}
.schedule-app .checkbox-container input[type="checkbox"]:checked + label::after{
  content:'✓';font-size:14px;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-54%)
}

/* FAB · 모달 · 캘린더 영역(이하 동일, 변경 없음) */
/* FAB 위치는 사용자가 지정한 값 유지 */
.schedule-app .add-schedule-fab{
  position:fixed;bottom:3.4rem;right:5.4rem;width:60px;height:60px;border-radius:50%;
  background:linear-gradient(180deg,var(--accent-grad-1),var(--accent-grad-2));
  border:none;color:#fff;box-shadow:0 10px 20px rgba(201,162,39,.35);
  cursor:pointer;display:flex;justify-content:center;align-items:center;transition:all .25s ease
}
.schedule-app .add-schedule-fab:hover{transform:translateY(-4px) scale(1.04);box-shadow:0 12px 24px rgba(201,162,39,.42)}

/* ⛏️ 오타 교정: 앞에 점(.) 누락되어 있었음 */
.schedule-app .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(6px);display:flex;justify-content:center;align-items:center;z-index:1002;animation:fadeIn .25s ease}
.schedule-app .modal-content{background:#fff;border-radius:16px;box-shadow:var(--shadow-md);width:100%;position:relative;animation:slideInUp .28s ease}
.schedule-app .modal-content.modal-tall-narrow{max-width:520px;min-height:70vh;display:flex;flex-direction:column}
.schedule-app .modal-head.gradient{background:linear-gradient(135deg,#fff6d8 0%, #f2d16b 40%, #c9a227 100%);border-top-left-radius:16px;border-top-right-radius:16px;padding:.6rem .9rem .62rem}
.schedule-app .modal-head.gradient h2{margin:0;font-size:1.06rem;font-weight:900;letter-spacing:.2px;color:#2f2f2f;text-shadow:0 1px 0 rgba(255,255,255,.6)}
.schedule-app .modal-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:14px}
.schedule-app .mt-header-gap{margin-top:4px}
.schedule-app .span-2{grid-column:1 / span 2}

.schedule-app .schedule-form .form-group{display:flex;flex-direction:column}
.schedule-app .schedule-form label{display:flex;align-items:center;gap:.4rem;margin-bottom:.3rem;font-weight:800;font-size:.86rem;color:#2f3438}
.schedule-app .label-icon{display:inline-flex;align-items:center;justify-content:center}
.schedule-app .schedule-form input[type="text"]{width:100%;padding:.6rem .8rem;border:1px solid var(--border-color);border-radius:10px;font-size:.96rem;transition:border-color .25s,box-shadow .25s;background:#fff}
.schedule-app .schedule-form input:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(201,162,39,.18)}
.schedule-app .memo-input{width:100%;padding:.62rem .8rem;border:1px solid var(--border-color);border-radius:12px;resize:vertical;font-size:.95rem}

/* Date/Time Popover 및 전체 달력 영역은 이전 버전과 동일 */
.schedule-app .picker-wrap{position:relative}
.schedule-app .picker-input{width:100%;padding:.6rem .78rem;border:1px solid var(--border-color);border-radius:10px;font-size:.96rem;display:flex;align-items:center;min-height:38px;background:linear-gradient(180deg,#fff,#fafafa);cursor:pointer;transition:box-shadow .2s,border-color .2s}
.schedule-app .picker-input:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(201,162,39,.18)}
.schedule-app .picker-compact{min-height:36px;padding:.58rem .74rem}

.schedule-app .toggle-switch.xsmall label{cursor:pointer;text-indent:-9999px;width:68px;height:28px;background:#dcdcdc;display:block;border-radius:999px;position:relative;margin:0}
.schedule-app .toggle-switch.xsmall input{height:0;width:0;visibility:hidden}
.schedule-app .toggle-switch.xsmall label:after{content:'';position:absolute;top:3px;left:3px;width:24px;height:22px;background:#fff;border-radius:999px;transition:.22s}
.schedule-app .toggle-switch.xsmall input:checked + label{background:linear-gradient(180deg,var(--accent-grad-1),var(--accent-grad-2))}
.schedule-app .toggle-switch.xsmall input:checked + label:after{left:calc(100% - 3px);transform:translateX(-100%)}

.schedule-app .notify-inline{display:flex;flex-direction:row;align-items:center;gap:10px;margin-top:0}
.schedule-app .notify-inline > label{margin:0}

.schedule-app .segmented{
  display:inline-grid;grid-auto-flow:column;gap:0;background:linear-gradient(180deg,#fff,#f6f6f6);border:1px solid #ececec;border-radius:12px;overflow:hidden;
  box-shadow:inset 0 1px 0 #fff,inset 0 -1px 0 #f2f2f2
}
.schedule-app .seg-btn{padding:.5rem 1rem;font-weight:900;font-size:.92rem;color:#666;border:none;background:transparent;cursor:pointer;transition:color .15s,background .2s}
.schedule-app .seg-btn:not(.active):hover{color:var(--text-color);background:#f7f7f7}
.schedule-app .seg-btn.active{color:#2c2c2c;background:linear-gradient(180deg,#fff2c9,#f5d67d);box-shadow:inset 0 0 0 2px rgba(201,162,39,.25)}

/* 하단 버튼 */
.schedule-app .form-actions{display:flex;justify-content:flex-end}
.schedule-app .form-actions.dual{gap:8px}
.schedule-app .form-actions.dual .form-submit-btn.small,
.schedule-app .form-actions.dual .form-cancel-btn.small{padding:.68rem .88rem;font-size:.95rem;border-radius:9px;min-width:110px}
.schedule-app .form-submit-btn{padding:.82rem .98rem;font-size:1rem;font-weight:900;color:#fff;background:linear-gradient(180deg,var(--accent-grad-1),var(--accent-grad-2));border:none;border-radius:10px;cursor:pointer;transition:transform .1s,box-shadow .2s}
.schedule-app .form-submit-btn:hover{transform:translateY(-1px);box-shadow:0 10px 18px rgba(201,162,39,.28)}
.schedule-app .form-cancel-btn{padding:.68rem .88rem;font-size:.95rem;font-weight:900;color:#333;background:#fff;border:1px solid var(--border-color);border-radius:9px;cursor:pointer;transition:transform .1s,box-shadow .2s}
.schedule-app .form-cancel-btn:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}

/* Popovers & Calendar (변경 없음) */
.schedule-app .pop-calendar{position:absolute;top:calc(100% + 8px);left:0;z-index:10;width:320px;background:#fff;border:1px solid var(--border-color);border-radius:14px;box-shadow:var(--shadow-md);padding:.8rem}
.schedule-app .pop-cal-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:.3rem}
.schedule-app .ym-pill{padding:.3rem .78rem;border-radius:999px;background:linear-gradient(180deg,#ffffff,#f6f6f6);border:1px solid #eee;font-weight:800}
.schedule-app .nav-btn{display:inline-flex;align-items:center;justify-content:center;width:34px;height:34px;border-radius:10px;background:linear-gradient(180deg,#ffffff,#f4f4f4);border:1px solid #eee;cursor:pointer;transition:transform .2s,box-shadow .2s,border-color .2s}
.schedule-app .nav-btn:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm);border-color:var(--accent-color)}
.schedule-app .nav-btn.ghost{background:#fff}
.schedule-app .pop-cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
.schedule-app .pop-cal-grid.head{margin:.2rem 0 .1rem}
.schedule-app .dow{text-align:center;font-weight:800;color:var(--text-light-color);font-size:.85rem;padding:.12rem 0}
.schedule-app .pop-day{height:38px;border-radius:10px;border:1px solid #f0f0f0;background:#fff;cursor:pointer;transition:background .2s,border-color .2s,transform .12s;font-weight:700}
.schedule-app .pop-day:hover{background:#fafafa;border-color:var(--accent-color);transform:translateY(-1px)}
.schedule-app .pop-day.selected{border:2px solid var(--accent-color);background:#fff6d8}
.schedule-app .pop-day.empty{visibility:hidden}

.schedule-app .pop-time{position:absolute;top:calc(100% + 8px);left:0;z-index:10;width:360px;background:#fff;border:1px solid var(--border-color);border-radius:14px;box-shadow:var(--shadow-md);padding:.7rem}
.schedule-app .pop-time.align-right{left:auto;right:0}
.schedule-app .pop-time-head{font-weight:800;font-size:.9rem;margin:0 0 .5rem .1rem;color:#3b3f45}
.schedule-app .ampm-row{display:inline-grid;grid-auto-flow:column;gap:.5rem;margin:0 0 .6rem}
.schedule-app .ampm-btn{padding:.36rem .76rem;border-radius:10px;border:1px solid #eee;background:#fff;font-weight:800;cursor:pointer}
.schedule-app .ampm-btn.active{border-color:var(--accent-color);background:#fff6d8}
.schedule-app .time-columns{display:grid;grid-template-columns:1fr 1fr;gap:.8rem}
.schedule-app .time-col{display:flex;flex-direction:column;gap:.4rem}
.schedule-app .col-title{font-size:.82rem;font-weight:800;color:#555}
.schedule-app .col-list{display:grid;grid-template-columns:repeat(4,1fr);gap:.4rem;max-height:160px;overflow:auto}
.schedule-app .col-item{padding:.38rem .48rem;border:1px solid #eee;border-radius:10px;background:#fff;cursor:pointer;font-weight:800;text-align:center}
.schedule-app .col-item.selected{border-color:var(--accent-color);background:#fff6d8}
.schedule-app .time-actions{display:flex;justify-content:flex-end;gap:.5rem;margin-top:.7rem}
.schedule-app .time-btn{padding:.46rem .86rem;border-radius:10px;border:1px solid #eee;background:#fff;font-weight:800;cursor:pointer}
.schedule-app .time-btn.ghost{background:#fff}
.schedule-app .time-btn.primary{border-color:var(--accent-color);background:linear-gradient(180deg,var(--accent-grad-1),var(--accent-grad-2));color:#fff}
.schedule-app .time-btn.primary.small{padding:.42rem .72rem;border-radius:9px}

/* 전체 달력 */
.schedule-app .calendar-backdrop{ z-index:1001; }
.schedule-app .calendar-view{
  background:#fff;border-radius:18px;box-shadow:var(--shadow-md);animation:slideInUp .28s ease;position:relative;
  width:1400px;height:900px;
  padding:12px 14px 14px;
  display:flex;flex-direction:column;min-height:0;overflow:hidden;
}
.schedule-app .calendar-view.fixed-size.bigger{width:1400px;height:900px}
.schedule-app .calendar-close-text{
  position:absolute;top:10px;right:12px;
  padding:.38rem .76rem;border:1px solid var(--border-color);border-radius:10px;background:#fff;
  font-weight:800;cursor:pointer;box-shadow:var(--shadow-sm);
  z-index:5;
}
.schedule-app .calendar-close-text:hover{transform:translateY(-1px);box-shadow:var(--shadow-md)}
.schedule-app .calendar-header{display:flex;justify-content:center;align-items:center;margin-bottom:.35rem;flex:none}
.schedule-app .calendar-header.compact{margin-bottom:.3rem}
.schedule-app .cal-title-group{display:inline-grid;grid-auto-flow:column;gap:.6rem;align-items:center;padding:.22rem .5rem;border-radius:999px;background:linear-gradient(180deg,#ffffff,#f7f7f7);border:1px solid #ededed;box-shadow:inset 0 1px 0 #fff,inset 0 -1px 0 #f3f3f3,0 6px 14px rgba(0,0,0,.04)}
.schedule-app .cal-title{display:flex;align-items:center;gap:.4rem;margin:0;font-size:1.22rem;font-weight:900;letter-spacing:.3px;padding:.16rem .36rem;background:linear-gradient(90deg,#2b2b2b,#806A14);-webkit-background-clip:text;background-clip:text;color:transparent}

.schedule-app .calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;flex:1;min-height:0}
.schedule-app .calendar-grid.fixed-rows{grid-template-rows:auto repeat(6, 1fr);height:100%}
.schedule-app .day-name{text-align:center;font-weight:900;color:var(--text-light-color);padding:.24rem 0 .32rem;font-size:.88rem;letter-spacing:.2px}

.schedule-app .calendar-day{
  border:1px solid var(--border-color);
  border-radius:12px;
  padding:.42rem .38rem .38rem;
  background:linear-gradient(180deg,#ffffff,#fbfbfb);
  transition:background-color .2s,border-color .2s,box-shadow .2s;
  display:grid;grid-template-rows:auto 1fr;height:100%;min-height:0;overflow:hidden;
}
.schedule-app .calendar-day:not(.empty):hover{background:#fafafa;border-color:var(--accent-color);box-shadow:0 8px 18px rgba(0,0,0,.05)}
.schedule-app .calendar-day.empty{background:transparent;border-color:transparent}
.schedule-app .calendar-day.today{border:2px solid var(--accent-color)}
.schedule-app .day-number{font-weight:900;font-size:.88rem;color:#222;display:flex;align-items:center;gap:.3rem;flex-wrap:nowrap}
.schedule-app .count-badge{display:inline-flex;align-items:center;justify-content:center;height:18px;padding:0 8px;border-radius:999px;background:#eee;font-weight:800;font-size:.72rem;color:#333;white-space:nowrap}
.schedule-app .count-badge.count-shared{background:rgba(106,171,156,.18);color:#2e665b;border:1px solid rgba(106,171,156,.35)}
.schedule-app .count-badge.count-personal{background:rgba(93,118,169,.18);color:#2c3d61;border:1px solid rgba(93,118,169,.35)}

.schedule-app .calendar-day .day-items{min-height:0;overflow-y:auto !important;overflow-x:hidden;display:flex;flex-direction:column;gap:4px;overscroll-behavior:contain;-webkit-overflow-scrolling:touch}
.schedule-app .calendar-day .day-items > *{flex:0 0 auto}

.schedule-app .day-chip{
  display:grid;grid-template-columns:max-content 1fr;align-items:center;gap:.34rem;
  padding:.12rem .28rem;border-radius:7px;border:1px solid #efefef;background:#fff;box-shadow:0 1px 3px rgba(0,0,0,.03);
  font-size:.72rem;line-height:1.12;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.schedule-app .day-chip.ultra-tiny{padding:.1rem .24rem;font-size:.72rem;border-radius:6px}
.schedule-app .day-chip.personal{border-left:3px solid var(--personal-color)}
.schedule-app .day-chip.shared{border-left:3px solid var(--shared-color)}
.schedule-app .chip-time{font-weight:900;font-size:.7rem;color:#333}
.schedule-app .chip-time.ultra-tiny{font-size:.7rem}
.schedule-app .chip-title{overflow:hidden;text-overflow:ellipsis}
.schedule-app .chip-title.ultra-tiny{font-size:.72rem}

/* 애니메이션 */
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideInUp{from{transform:translateY(26px);opacity:0}to{transform:translateY(0);opacity:1}}
