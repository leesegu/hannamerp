/* src/pages/PayrollBook.css */

:root{
  --ink:#0f172a;
  --muted:#6b7280;
  --line:#e2e5f0;
  --line-strong:#c4c9e4;
  --bg:radial-gradient(circle at top, #fdfbff 0%, #edf3ff 35%, #f7fafc 100%);
  --brand:#4F73EA;
  --brand-soft:#eef2ff;
  --orange:#fff3c4;
  --blue:#eaf3ff;
  --gray:#f5f7fb;
  --yellow:#fff7d6;
  --gold:#fbbf24;
  --shadow:0 16px 40px rgba(15,23,42,.10);
}

.pb-wrap{
  width:100%;
  max-width:none;
  margin:0 auto;
  min-height:100%;
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:20px;
  background:var(--bg);
}

.pb-toolbar{
  background:linear-gradient(135deg,#ffffff 0%,#f6f7ff 45%,#fef7f0 100%);
  border:1px solid rgba(255,255,255,.7);
  border-radius:16px;
  padding:12px 18px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
}
.pb-controls{display:flex;align-items:center;gap:10px}
.pb-label{font-weight:600;color:#111827;font-size:13px}
.pb-select{
  height:34px;
  border:1px solid #d4d7e5;
  border-radius:999px;
  padding:0 12px;
  background:#ffffff;
  box-shadow:0 1px 0 rgba(255,255,255,.8);
  font-size:12px;
}
.pb-months{display:flex;gap:6px;margin-left:8px}
.pb-month{
  height:34px;
  padding:0 14px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,.6);
  background:rgba(255,255,255,.9);
  cursor:pointer;
  white-space:nowrap;
  font-size:12px;
  color:#4b5563;
  box-shadow:0 1px 3px rgba(15,23,42,.06);
  transition:background .15s ease, box-shadow .15s ease, transform .05s ease;
}
.pb-month:hover{
  background:#ffffff;
  box-shadow:0 2px 6px rgba(15,23,42,.12);
}
.pb-month.on{
  background:linear-gradient(135deg,#4f46e5,#38bdf8);
  color:#fff;
  border-color:transparent;
  box-shadow:0 10px 22px rgba(79,70,229,.45);
  transform:translateY(-1px);
}

.pb-actions{display:flex;gap:8px}
.pb-btn{
  height:34px;
  padding:0 14px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.8);
  background:rgba(255,255,255,.9);
  cursor:pointer;
  font-weight:600;
  white-space:nowrap;
  font-size:12px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:6px;
  box-shadow:0 8px 20px rgba(15,23,42,.08);
}
.pb-btn.on{
  background:linear-gradient(135deg,#4f46e5,#2563eb);
  color:#fff;
}

/* â–¶ ë²„íŠ¼ë³„ ë””ìì¸ */
.pb-btn-add{
  background:linear-gradient(135deg,#f97316,#facc15);
  border-color:transparent;
  color:#fff;
  box-shadow:0 10px 24px rgba(248,181,37,.55);
}
.pb-btn-add:hover{
  filter:brightness(0.97);
}

.pb-btn-edit{
  border-color:#4f46e5;
  color:#4338ca;
  background:#eef2ff;
}
.pb-btn-edit.on{
  background:linear-gradient(135deg,#4f46e5,#6366f1);
  color:#fff;
}

/* ğŸ” ì´ì›” ë²„íŠ¼ ë””ìì¸ */
.pb-btn-carry{
  background:linear-gradient(135deg,#0ea5e9,#22c55e);
  border-color:transparent;
  color:#ffffff;
  box-shadow:0 10px 24px rgba(14,165,233,.45);
}
.pb-btn-carry:hover{
  filter:brightness(1.02);
}

/* âœ… ì—°ë„ë³„ ì´ ì§€ê¸‰ë‚´ì—­ ë²„íŠ¼ ê°•ì¡° ë””ìì¸ */
.pb-btn-stats{
  background:linear-gradient(135deg,#3b82f6,#6366f1);
  border-color:transparent;
  color:#fff;
  box-shadow:0 10px 26px rgba(37,99,235,.55);
  position:relative;
  overflow:hidden;
}
.pb-btn-stats::after{
  content:"";
  position:absolute;
  inset:-20%;
  background:radial-gradient(circle at 0 0,rgba(255,255,255,.25),transparent 55%);
  opacity:.7;
}
.pb-btn-stats:hover{
  filter:brightness(1.02);
}
.pb-btn-stats-dot{
  width:8px;
  height:8px;
  border-radius:999px;
  background:#22c55e;
  box-shadow:0 0 0 4px rgba(34,197,94,.25);
}

/* ê¸‰ì—¬ëŒ€ì¥ í‘œ ê°€ë¡œ ì‚¬ì´ì¦ˆ */
.pb-paper{
  width:100%;
  margin: 0 auto;
  background:transparent;
  border:none;
  border-radius:18px;
  box-shadow:none;
  padding: 18px 0 22px;
}
.pb-title{
  text-align:center;
  font-size:24px;
  font-weight:800;
  letter-spacing:0.04em;
  margin-bottom:16px;
  color:#111827;
}

/* Table */
.pb-table-wrap{
  overflow:auto;
  border-radius:14px;
  box-shadow:none;
  border:2px solid var(--line-strong);
  margin:0 auto;
  padding:0 0 8px;
  background:transparent;
  width:100%;
}

/* í‘œ ìì²´ â€“ ê°€ë¡œ ê³ ì •, ë‚´ìš©ì— ë”°ë¼ ëŠ˜ì–´ë‚˜ì§€ ì•Šë„ë¡ */
.pb-table{
  width:100%;
  border-collapse:collapse;
  background:rgba(255,255,255,.96);
  table-layout:fixed;
  margin:0;
}

/* í‘œ ì•ˆ í°íŠ¸ & íŒ¨ë”© */
.pb-table th,
.pb-table td{
  border:1px solid var(--line);
  padding:4px 5px;
  font-size:11px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* â–¶ í•˜ë‹¨ í•©ê³„ ì˜ì—­: ì…ë ¥ êµ¬ê°„ê³¼ì˜ ê²½ê³„ì„  ì§„í•˜ê²Œ */
.pb-table tfoot td{
  border-top:2px solid var(--line-strong);
}

/* â–¶ ê¸‰ì—¬ëŒ€ì¥ í‘œ ëª¨ë“  ë‚´ìš© ê°€ìš´ë° ì •ë ¬ */
.pb-table td{
  text-align:center;
}

/* í—¤ë” ì˜ì—­ */
.pb-table thead th{
  text-align:center;
  font-weight:700;
  color:#111827;
}
.pb-table .hdr-1 th{
  background:linear-gradient(135deg,#eff6ff,#e0f2fe);
  border-bottom:1px solid #cbd5f5;
}
.pb-table .hdr-2 th{
  background:linear-gradient(135deg,#f8fafc,#eef2ff);
  font-weight:600;
  color:#1f2937;
}

.pb-table th.hdr-block{
  background:linear-gradient(135deg,#e0f2fe,#eef2ff);
  font-weight:800;
  border-bottom:1px solid #c7d2fe;
}
.pb-table th.pay{
  background:linear-gradient(135deg,#fff7ed,#fffbeb);
}
.pb-table th.ded{
  background:linear-gradient(135deg,#f9fafb,#eff6ff);
}

/* ì‚¬ì› / ë²ˆí˜¸ 2ì¤„ í—¤ë”ìš© */
.th-multi{
  display:inline-block;
  line-height:1.2;
}

/* ì‚¬ì›ë²ˆí˜¸ ë‚´ìš© ì¤‘ì•™ ì •ë ¬ */
.empno-cell{
  text-align:center;
}

/* ì„±ëª… / ë¶€ì„œëª… ê°€ìš´ë° ì •ë ¬ */
.pb-table td.col-name,
.pb-table td.col-dept{
  text-align:center;
}

/* ì¸ì ì‚¬í•­/í•©ê³„ ìª½ */
.pb-table td.left-total{
  text-align:center;
  font-weight:700;
}

/* ì…€ ê³µí†µ */
.cell{
  min-height:22px;
  display:flex;
  align-items:center;
}
.cell-text{
  flex:1;
  overflow:hidden;
  text-overflow:ellipsis;
}
.cell-input{
  width:100%;
  border:none;
  outline:none;
  font:inherit;
  padding:0;
  background:transparent;
  text-align:center;
}

/* ğŸ”´ ìŒìˆ˜ ê¸ˆì•¡ ë¹¨ê°„ìƒ‰ */
.cell-text.negative,
.cell-input.negative{
  color:#dc2626;
}

/* ê°€ë¡œí­ ì¡°ì • */
.pb-table th.col-empno,
.pb-table td.col-empno{
  width:40px;
  min-width:30px;
}
.pb-table th.col-name,
.pb-table td.col-name{
  width:60px;
  min-width:50px;
}
.pb-table th.col-dept,
.pb-table td.col-dept{
  width:60px;
  min-width:50px;
}
.pb-table th.col-workdays,
.pb-table td.col-workdays{
  width:60px;
  min-width:50px;
}
.pb-table th.col-workhours,
.pb-table td.col-workhours{
  width:60px;
  min-width:50px;
}

/* ë„“ê²Œ: ê¸‰ì—¬/ê³µì œ ê¸ˆì•¡ ì¹¸ */
.pb-table td.pay,
.pb-table th.pay,
.pb-table td.ded,
.pb-table th.ded{
  min-width:90px;
  height:32px;
}

/* ì…€ ë°°ê²½ */
.auto{
  background:linear-gradient(135deg,#fff9e6,#fff3c4);
}
.edit{ background:#ffffff; }
.pay{ background:#fffaf0; }
.ded{ background:#f9fbff; }
.sum{
  font-weight:800;
  text-align:center;
}
/* ì§€ê¸‰í•©ê³„/ê³µì œí•©ê³„ ë°°ê²½ìƒ‰ */
.sum.gross{
  background:linear-gradient(135deg,#dcfce7,#4ade80);
  color:#064e3b;
}
.sum.net{
  background:linear-gradient(135deg,#fef3c7,#fde68a);
}
.sum.ded-total{
  background:linear-gradient(135deg,#fee2e2,#fecaca);
  color:#7f1d1d;
}
.sum-cell{
  text-align:center;
  background:#f8fafc;
  font-weight:700;
  color:var(--muted);
}
.sum-cell.gray{
  background:linear-gradient(135deg,#f3f4f6,#e5f0f7);
  color:var(--muted);
}

/* â–¶ í•˜ë‹¨ í•©ê³„: ì™¼ìª½ ì œëª©(í•©ê³„ í…ìŠ¤íŠ¸)ì™€ ê¸ˆì•¡ ì‚¬ì´ êµ¬ë¶„ì„  ë” ì§„í•˜ê²Œ */
.pb-table tfoot td.left-total{
  border-right:2px solid var(--line-strong);
}

/* êµ¬ì¡° êµ¬ë¶„ì„  */
.pb-table tbody tr.emp-row-first td{
  border-top:2px solid var(--line-strong);
}

.pb-table th.col-empno,
.pb-table td.col-empno{
  border-right:2px solid var(--line-strong);
}
.pb-table th.col-name,
.pb-table td.col-name{
  border-right:2px solid var(--line-strong);
}
.pb-table th.col-dept,
.pb-table td.col-dept{
  border-right:2px solid var(--line-strong);
}
.pb-table th.col-workdays,
.pb-table td.col-workdays{
  border-right:2px solid var(--line-strong);
}
.pb-table th.col-workhours,
.pb-table td.col-workhours{
  border-right:2px solid var(--line-strong);
}

.pb-table th.col-pay-group{
  border-right:2px solid var(--line-strong);
}
.pb-table th.col-ded-group{
  border-left:2px solid var(--line-strong);
}

.pb-table th.col-pay-last,
.pb-table td.col-pay-last{
  border-right:2px solid var(--line-strong);
}
.pb-table th.col-ded-first,
.pb-table td.col-ded-first{
  border-left:2px solid var(--line-strong);
}

.pb-table th.col-gross,
.pb-table td.col-gross{
  border-left:2px solid var(--line-strong);
  border-right:2px solid var(--line-strong);
}
.pb-table th.col-dedtotal,
.pb-table td.col-dedtotal{
  border-left:2px solid var(--line-strong);
  border-right:2px solid var(--line-strong);
}
.pb-table th.col-net,
.pb-table td.col-net{
  border-left:2px solid var(--line-strong);
}

/* === ê³µí†µ ëª¨ë‹¬ ë˜í¼ === */
.pb-modal{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,.35);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:1500;
}

/* ê¸°ë³¸ ëª¨ë‹¬ íŒ¨ë„ â€“ ë°ê³  ê³ ê¸‰ìŠ¤ëŸ½ê²Œ */
.pb-modal-panel{
  width:min(1100px,96vw);
  max-height:96vh;
  background:linear-gradient(145deg,#ffffff,#f5f7ff);
  border-radius:18px;
  box-shadow:0 32px 70px rgba(15,23,42,.18);
  display:flex;
  flex-direction:column;
  overflow:hidden;
  border:1px solid rgba(209,213,219,.9);
}
.pb-modal-head{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 18px;
  border-bottom:1px solid rgba(209,213,219,.9);
  background:linear-gradient(135deg,#f9fafb,#eef2ff);
}
.pb-modal-title{
  font-weight:800;
  color:#0f172a;
}
.pb-close{
  width:32px;
  height:32px;
  border:none;
  background:#ffffff;
  border-radius:999px;
  font-size:18px;
  cursor:pointer;
  color:#4b5563;
  box-shadow:0 6px 14px rgba(15,23,42,.25);
}
.pb-close:hover{background:#f3f4f6}
.pb-modal-body{
  padding:14px 18px;
}
.pb-modal-foot{
  padding:10px 18px;
  border-top:1px solid rgba(209,213,219,.9);
  display:flex;
  justify-content:flex-end;
}

/* ====== ì§€ê¸‰ í†µê³„ ëª¨ë‹¬ â€“ ë°ì€ í†¤ ====== */
.pb-modal-panel-stats{
  width:min(1200px,96vw);
}

.pb-modal-head-stats{
  padding:14px 22px;
  background:linear-gradient(135deg,#e0f2fe,#eef2ff);
  border-bottom:1px solid rgba(191,219,254,.9);
}
.pb-modal-title{
  display:flex;
  flex-direction:column;
  gap:2px;
}
.pb-modal-subtitle{
  font-size:11px;
  color:#6b7280;
  font-weight:400;
}

.pb-modal-body-stats{
  padding:16px 22px 12px;
}
.pb-modal-foot-stats{
  padding:12px 22px 16px;
}

/* ì—°ê°„ í†µê³„ í…Œì´ë¸” â€“ ë¼ì´íŠ¸ ëŸ­ì…”ë¦¬ */
.pb-stats-table{
  width:100%;
  border-collapse:collapse;
  background:#ffffff;
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 12px 26px rgba(15,23,42,.12);
}
.pb-stats-table th,
.pb-stats-table td{
  border:1px solid #e2e8f0;
  padding:8px 10px;
  text-align:center;
  font-size:11px;
}
.pb-stats-table thead th{
  background:linear-gradient(135deg,#eff6ff,#e0f2fe);
  color:#0f172a;
  font-weight:700;
}
.pb-stats-table tbody tr:nth-child(odd){
  background:#ffffff;
}
.pb-stats-table tbody tr:nth-child(even){
  background:#f9fafb;
}
.pb-stats-table tbody tr:hover{
  background:#eef2ff;
}
.pb-stats-table td{
  color:#111827;
}
.pb-stats-table td.num{
  text-align:right;
  font-variant-numeric:tabular-nums;
}
.pb-stats-table td.hi{
  background:linear-gradient(135deg,#fef3c7,#fde68a);
  font-weight:800;
  color:#78350f;
}
.pb-stats-table .bar{
  height:10px;
  background:#e5e7eb;
  border-radius:999px;
  overflow:hidden;
}
.pb-stats-table .bar .bar-fill{
  height:100%;
  background:linear-gradient(90deg,#3b82f6,#6366f1);
}
.pb-stats-table .bar.bar-total .bar-fill{
  background:linear-gradient(90deg,#22c55e,#a3e635);
}
.stats-total-row td{
  font-weight:700;
  background:#fefce8;
}

/* ====== í•­ëª© ì¶”ê°€ ëª¨ë‹¬ (í•„ë“œ ì„¤ì •) â€“ ë°ì€ í†¤ ====== */
.pb-field-panel{
  width:min(800px,96vw);
}
.pb-modal-head-field{
  background:linear-gradient(135deg,#eff6ff,#fefce8);
  border-bottom:1px solid rgba(226,232,240,.9);
}
.pb-field-body{
  display:flex;
  flex-direction:column;
  gap:16px;
  padding-bottom:14px;
}
.pb-field-type-tabs{
  display:flex;
  gap:8px;
  margin-bottom:4px;
}
.pb-field-type{
  flex:0 0 auto;
  padding:7px 12px;
  border-radius:999px;
  border:1px solid #d4d4d8;
  background:#ffffff;
  font-size:12px;
  cursor:pointer;
  color:#374151;
}
.pb-field-type.on{
  background:linear-gradient(135deg,#4f46e5,#6366f1);
  color:#fff;
  border-color:transparent;
}
.pb-field-label{
  font-size:12px;
  font-weight:600;
  margin-bottom:4px;
  color:#111827;
}
.pb-field-count{
  margin-left:4px;
  color:#9ca3af;
  font-weight:400;
}

/* â–¶ ëª©ë¡: ì¹© ë‹¨ìœ„ëŠ” ì¤„ë°”ê¿ˆ ì—†ì´, ì¹©ë¼ë¦¬ëŠ” ì—¬ëŸ¬ ì¤„ë¡œ ê°ì‹¸ê¸° */
.pb-field-list{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  max-height:150px;
  overflow:auto;
}
.pb-field-chip{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:4px 8px;
  border-radius:999px;
  background:#f3f4ff;
  border:1px solid #c7d2fe;
  font-size:11px;
  white-space:nowrap;
  color:#111827;
}
.pb-field-chip-label{
  overflow:hidden;
  text-overflow:ellipsis;
}
.pb-field-chip-actions{
  display:inline-flex;
  gap:2px;
  flex-shrink:0;
}
.pb-field-chip-btn{
  border:none;
  padding:2px 8px;
  border-radius:999px;
  font-size:11px;
  cursor:pointer;
}
.pb-field-chip-btn.edit{
  background:#e0f2fe;
  color:#0369a1;
}
.pb-field-chip-btn.del{
  background:#fee2e2;
  color:#b91c1c;
}

.pb-field-add-row{
  display:flex;
  gap:8px;
  margin-top:4px;
}
.pb-field-input{
  flex:1;
  height:32px;
  border-radius:999px;
  border:1px solid #d4d4d8;
  padding:0 10px;
  font-size:12px;
  background:#ffffff;
  color:#111827;
}
.pb-field-input::placeholder{
  color:#9ca3af;
}
.pb-field-add-btn{
  height:32px;
  padding:0 12px;
}
