/* =========================================
   MobilePersonalLedgerPage — Aether Royale Rebrand v2
   - Luxe, jewel-tone glass (no dark theme, no gold)
   - Keep same layout & class names
   - KR: Pretendard Variable / EN display: Cinzel
========================================= */

/* ▼ Premium typography */
@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css');
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&display=swap');

.mplg {
  /* ===== Design Tokens (Gold-free, richer & luxe) ===== */
  --bg: #F6F7FB;                 /* 밝지만 차분한 베이스 */
  --paper: #FFFFFF;              /* 카드/입력 표면 */
  --ink: #0E1322;                /* 본문 텍스트 */
  --muted: #5D667B;              /* 보조 텍스트 */
  --line: #E3E8F3;               /* 엷은 보더 */

  /* Accents — Jewel & Pearl */
  --accent-1: #6E7BF2;           /* Sapphire Blue */
  --accent-2: #AAB9FF;           /* Ice Periwinkle */
  --accent-3: #B89CFF;           /* Amethyst */
  --accent-4: #26C7C3;           /* Aquamarine */
  --pearl: rgba(255,255,255,.86);
  --frost: rgba(255,255,255,.65);

  /* State */
  --green: #16A34A;
  --red: #EF4444;

  /* Effects — Crystal glass & soft depth */
  --shadow-sm: 0 10px 22px rgba(14, 19, 34, .07);
  --shadow-md: 0 18px 36px rgba(14, 19, 34, .12);
  --shadow-lg: 0 32px 70px rgba(14, 19, 34, .16);
  --ring-focus: 0 0 0 3px rgba(110, 123, 242, .28);

  color: var(--ink);
  background:
    radial-gradient(1200px 720px at 90% -10%, rgba(110,123,242,.10), transparent 60%),
    radial-gradient(1100px 620px at 0% 110%, rgba(184,156,255,.10), transparent 60%),
    conic-gradient(from 220deg at 80% 10%, #FFFFFF, #F9FAFF, #F3F5FE, #FFFFFF),
    linear-gradient(180deg, #FFFFFF, var(--bg) 46%),
    var(--bg);
  min-height: 100vh;

  height: 100dvh;
  padding: calc(18px + env(safe-area-inset-top)) 18px calc(40px + env(safe-area-inset-bottom));
  box-sizing: border-box;
  overflow-x: hidden;
  overflow-y: auto;

  font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont,
               "Segoe UI", Roboto, "Noto Sans KR", Arial, sans-serif;
}

/* Util */
.mplg .nowrap { white-space: nowrap; }

/* ===== Top bar ===== */
.mplg .mplg-top {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  gap: 48px;
  margin-bottom: 16px;
}
.mplg .mplg-title {
  justify-self: center;
  text-align: center;
  /* EN heading은 Cinzel, 한글은 Pretendard 폴백 */
  font-family: "Cinzel","Pretendard Variable", Pretendard, "Noto Sans KR", serif;
  font-weight: 700;
  letter-spacing: .4px;
  color: var(--ink);
  text-shadow:
    0 1px 0 #fff,
    0 8px 30px rgba(110,123,242,.20);
  display: inline-grid;
  grid-auto-flow: column;
  gap: 10px;
  align-items: center;
  font-size: 22px;
}
.mplg .top-right { justify-self: end; }

/* ===== Buttons — Royale Crystal Gloss (공통 룩) ===== */
.mplg .back-btn,
.mplg .year-btn,
.mplg .btn,
.mplg .mini-btn,
.mplg .seg-btn,
.mplg .cal-header .nav,
.mplg .cal-actions .pill,
.mplg .year-trigger,
.mplg .year-option {
  position: relative;
  isolation: isolate;
  overflow: hidden;
  border-radius: 12px;
  border: 1px solid var(--line);
  box-shadow: var(--shadow-sm);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, background .15s ease, opacity .15s ease;
  background:
    linear-gradient(180deg, var(--pearl), rgba(255,255,255,.94)),
    radial-gradient(130% 140% at 20% -20%, rgba(170,185,255,.18), transparent 55%),
    radial-gradient(120% 160% at 120% 120%, rgba(184,156,255,.16), transparent 60%),
    #FFFFFF;
  color: var(--ink);
}

.mplg .back-btn,
.mplg .year-btn{
  display: inline-grid;
  grid-auto-flow: column;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
}
.mplg .back-btn:hover,
.mplg .year-btn:hover{
  border-color: #D4DCF2;
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}
.mplg .back-btn:active,
.mplg .year-btn:active { transform: translateY(0); }
.mplg .back-btn:focus-visible,
.mplg .year-btn:focus-visible { outline: none; box-shadow: var(--ring-focus), var(--shadow-sm); }
.mplg .back-btn .back-icon { font-weight: 900; font-size: 14px; line-height: 1; }
.mplg .back-btn .back-text { font-weight: 700; font-size: 14px; letter-spacing: .2px; }

/* ===== Metric cards ===== */
.mplg .mplg-cards {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 16px;
}
.mplg .mplg-card {
  border-radius: 18px;
  padding: 14px 14px 12px;
  background:
    linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.85)),
    radial-gradient(620px 320px at 100% -10%, rgba(170,185,255,.14), transparent 60%),
    radial-gradient(820px 360px at -10% 110%, rgba(184,156,255,.14), transparent 60%),
    var(--paper);
  border: 1px solid var(--line);
  box-shadow: var(--shadow-sm);
  backdrop-filter: blur(4px);
  transition: box-shadow .15s ease, transform .15s ease, border-color .15s ease;
  min-height: 96px;               /* 동일 높이 */
  display: flex;
  flex-direction: column;
  justify-content: center;
}
/* ▲ ‘월 수입/월 지출/월 차액’ 라벨 한 단계 ↑, 금액 한 단계 ↓ */
.mplg .mplg-card .label {
  font-size: 14px;               /* 12px → 14px */
  color: var(--muted);
  margin-bottom: 6px;
  letter-spacing: .2px;
  font-weight: 700;
}
.mplg .mplg-card .value {        /* 금액 표기 한 단계 ↓ */
  font-size: 15px;               /* 16px → 15px */
  font-weight: 900;
  letter-spacing: .2px;
}
.mplg .mplg-card .value.nowrap{ white-space: nowrap; }
.mplg .mplg-card .value.small{ font-size: 15px; }

.mplg .mplg-card:hover{
  border-color: #D9E0F1;
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

/* 상태 엣지 (no gold) */
.mplg .mplg-card.income { box-shadow: var(--shadow-sm), 0 0 0 1px rgba(22,163,74,.18) inset; }
.mplg .mplg-card.expense { box-shadow: var(--shadow-sm), 0 0 0 1px rgba(239,68,68,.18) inset; }
.mplg .mplg-card.diff.pos { box-shadow: var(--shadow-sm), 0 0 0 1px rgba(110,123,242,.22) inset; }
.mplg .mplg-card.diff.neg { box-shadow: var(--shadow-sm), 0 0 0 1px rgba(239,68,68,.22) inset; }

/* ===== Form ===== */
.mplg .mplg-form {
  border-radius: 20px;
  border: 1px solid var(--line);
  background:
    radial-gradient(140% 140% at 0% 0%, rgba(170,185,255,.16), transparent 55%),
    radial-gradient(120% 120% at 100% 0%, rgba(184,156,255,.16), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.95), rgba(255,255,255,.88));
  box-shadow: var(--shadow-sm);
  padding: 16px;
  margin-bottom: 16px;
}

/* Segmented control */
.mplg .seg {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-bottom: 12px;
}
.mplg .seg-btn {
  border-radius: 999px;
  background:
    linear-gradient(180deg, #FFFFFF, #F6F8FF);
  color: var(--ink);
  padding: 10px 0;
  font-weight: 800;
  text-align: center;
  font-size: 15px;
  border: 1px solid var(--line);
}
.mplg .seg-btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-md); border-color: #D6DEF1; }
.mplg .seg-btn:focus-visible { outline: none; box-shadow: var(--ring-focus), var(--shadow-sm); }
.mplg .seg-btn.on {
  background:
    linear-gradient(90deg, rgba(170,185,255,.26), #FFFFFF 55%, rgba(184,156,255,.24));
  border-color: #D6DFFF;
  box-shadow: 0 0 0 1px rgba(170,185,255,.28) inset, var(--shadow-sm);
  transform: translateY(-1px);
}

/* Inputs */
.mplg .row { display: grid; gap: 6px; margin-bottom: 12px; }
.mplg .row label { font-size: 12px; color: var(--muted); font-weight: 700; letter-spacing:.2px; }

.mplg .inp {
  width: 100%;
  box-sizing: border-box;
  background: #fff;
  border: 1px solid var(--line);
  color: var(--ink);
  border-radius: 14px;
  padding: 13px 12px;
  font-size: 15px;
  text-align: left;
  box-shadow: inset 0 1px 0 #fff, var(--shadow-sm);
  transition: box-shadow .15s ease, border-color .15s ease;
}
.mplg .inp::placeholder { color: #97A2B8; }
.mplg .inp:focus{ outline: none; box-shadow: var(--ring-focus), inset 0 1px 0 #fff; border-color: #CCD6F3; }
.mplg .inp.amt { font-weight: 900; letter-spacing: .2px; }

/* Date selector (opens custom calendar) */
.mplg .row-calendar { cursor: pointer; }
.mplg .row-calendar .date-hidden{ position:absolute!important; opacity:0!important; pointer-events:none!important; width:0; height:0; }
.mplg .row-calendar .date-display{
  display: grid; grid-auto-flow: column;
  justify-content: space-between; align-items: center;
  background: #fff;
  border: 1px solid var(--line); color: var(--ink);
  border-radius: 14px; padding: 13px 12px; font-size: 15px;
  box-shadow: var(--shadow-sm);
}
.mplg .row-calendar .date-display .date-caret{ opacity:.66; }

/* Form actions */
.mplg .actions { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 8px; }
.mplg .btn {
  display: grid; place-items: center; min-height: 48px;
  padding: 12px 12px; border-radius: 14px;
  background:
    linear-gradient(180deg, #FFFFFF, #F6F8FF);
  color: var(--ink);
  font-weight: 900; text-align: center; font-size: 16px;
  border: 1px solid var(--line);
}
.mplg .btn:hover{ transform: translateY(-1px); box-shadow: var(--shadow-md); border-color:#D6DEF1; }
.mplg .btn:active{ transform: translateY(0); }
.mplg .btn:focus-visible{ outline:none; box-shadow: var(--ring-focus), var(--shadow-sm); }

.mplg .btn.save{
  background:
    linear-gradient(90deg, rgba(110,123,242,.22), #FFFFFF 45%, rgba(184,156,255,.18));
  border: 1px solid #D4DCF8;
  color: #0E1322;
  text-shadow: 0 1px 0 rgba(255,255,255,.6);
}
.mplg .btn.reset{
  border: 1px solid #E0E5EE;
  background: linear-gradient(180deg, rgba(255,255,255,1), rgba(255,255,255,.92));
  color:#475067;
}

/* ===== List ===== */
.mplg .mplg-list { display: grid; gap: 10px; padding-bottom: calc(90px + env(safe-area-inset-bottom)); }
.mplg .empty { text-align: center; color: #8A94AA; padding: 22px 0; font-weight:700; letter-spacing:.2px; }
.mplg .item {
  display: grid; grid-template-rows: auto auto; gap: 8px;
  padding: 12px; border-radius: 18px;
  background: #fff;
  border: 1px solid var(--line);
  box-shadow: var(--shadow-sm);
}
.mplg .item.compact{
  padding: 12px; border-radius: 18px;
  background: #fff;
  border: 1px solid var(--line);
}
.mplg .item .line1, .mplg .item .line2{
  display: grid; grid-template-columns: 1fr max-content; align-items: center; gap: 10px;
}
.mplg .item .l1-left{ display:inline-flex; gap:10px; align-items:center; min-width:0; }
.mplg .item .ty{
  font-size: 11px; font-weight: 900; padding: 4px 10px; border-radius: 999px; text-align: center; border: 1px solid #EAF0FF;
  background: #EEF2FF; color:#374579;
}
.mplg .item.income .ty{ background: #EEFFF7; color:#065F46; border-color:#CFEFE0; }
.mplg .item.expense .ty{ background: #FFF1F1; color:#7F1D1D; border-color:#F7CACA; }

/* ▼ 금액 폰트 한 단계 ↓ (리스트) */
.mplg .item .amt{
  font-size: 15px;              /* downstep */
  font-weight: 900; letter-spacing:.2px; color:#0E1322;
}
.mplg .item .amt.nowrap{ white-space: nowrap; }
.mplg .item.income .amt{ color:#065F46; }
.mplg .item.expense .amt{ color:#7F1D1D; }
.mplg .item .line1 .date{ color:#6B7280; font-size:12px; }

.mplg .item .l2-left{ display:inline-flex; align-items:baseline; gap:8px; min-width:0; }
.mplg .item .party-strong{ color:#0E1322; font-weight:900; max-width:50%; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.mplg .item .comma{ color:#98A4BC; opacity:.9; }
.mplg .item .title{ font-weight:700; color:#1F2937; max-width:50%; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

.mplg .item .l2-right{ display:inline-grid; grid-auto-flow:column; gap:8px; }
/* 미니버튼 — 동일 룩 */
.mplg .mini-btn{
  padding: 8px 12px; font-size: 12px; line-height:1; border-radius: 999px;
  border: 1px solid var(--line);
  background:
    linear-gradient(180deg, #FFFFFF, #F6F8FF);
  color:#1E2432; min-width:64px; text-align:center; font-weight:900;
  box-shadow: var(--shadow-sm);
}
.mplg .mini-btn:hover{ transform: translateY(-1px); box-shadow: var(--shadow-md); border-color: #D6DEF1; }
.mplg .mini-btn:active{ transform: translateY(0); }
.mplg .mini-btn:focus-visible{ outline:none; box-shadow: var(--ring-focus), var(--shadow-sm); }

.mplg .mini-btn.edit{
  border-color: #D4DCF8;
  background: linear-gradient(90deg, rgba(110,123,242,.18), #FFFFFF 60%);
}
.mplg .mini-btn.del{
  border-color: #F3D3D6;
  background: linear-gradient(180deg, #FFFFFF, #FFF6F6);
  color:#91212A;
}

.mplg .item.editing{ outline: 2px solid rgba(110,123,242,.30); }

/* ===== Calendar Modal — Royale Crystal ===== */
.mplg .cal-overlay{
  position:fixed; inset:0; background: rgba(12,14,22,0.28);
  display:grid; place-items:center; z-index:9999; backdrop-filter: blur(3px);
}

/* ✅ 달력 높이 고정 + 내부 고정 레이아웃으로 버튼 흔들림 제거 */
.mplg .cal{
  width: min(94vw, 380px);
  height: 420px;              /* ← 고정 높이 */
  /* ▼ column flex → 고정 3행 그리드(헤더/그리드/풋터) + 행 간격 고정 */
  display: grid;
  grid-template-rows: 40px 1fr 38px;  /* 헤더·본문·풋터 고정 */
  row-gap: 12px;                       /* ✅ 아래 공간은 갭으로만 확보 */
  border-radius: 20px;
  border: 1px solid var(--line);
  background:
    radial-gradient(160% 160% at 0% 0%, rgba(170,185,255,.16), transparent 55%),
    radial-gradient(120% 120% at 100% 0%, rgba(184,156,255,.16), transparent 60%),
    rgba(255,255,255,.98);
  box-shadow: var(--shadow-lg);
  padding: 14px;
  position: relative;
  overflow: hidden;           /* 내부 변동으로 높이 흔들림 방지 */
}

/* Calendar header: prev / YM(center) / next / 오늘로(우측) */
.mplg .cal-header{
  display:grid;
  grid-template-columns: 32px 1fr 32px auto;
  grid-template-areas: "prev ym next today";
  align-items:center;
  margin-bottom:0;            /* ✅ 아래 여백 제거(행 갭으로 통일) */
  column-gap:10px;
  position: relative;
  height: 40px;               /* 고정 높이로 버튼 Y위치 고정 */
}
.mplg .cal-header .ym{
  grid-area: ym;
  justify-self: center;
  text-align:center;
  font-weight: 700;
  letter-spacing:.45px;
  color:#0f1220;
  font-size:16px;
  white-space: nowrap;        /* ✅ 줄바꿈 방지로 헤더 높이 고정 */
  text-shadow: 0 1px 0 rgba(255,255,255,.75);
  /* ▼ 년/월 표시는 Cinzel로 변경 */
  font-family: "Cinzel","Pretendard Variable", Pretendard, "Noto Sans KR", serif;
}
.mplg .cal-header .nav{
  width:32px;
  height:32px;
  border-radius:10px;
  border:1px solid var(--line);
  background: linear-gradient(180deg, #FFFFFF, #F2F5FF);
  color:#0f1220;
  box-shadow: var(--shadow-sm);
  white-space: nowrap;
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
  /* ✅ 추가: 글리프 베이스라인 차이/포커스 등으로 인한 세로 흔들림 방지 */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  /* ✅ 추가: 헤더 안에서 항상 세로 중앙 고정 */
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
}
.mplg .cal-header .nav:hover{ box-shadow: var(--shadow-md); border-color:#D6DEF1; }
/* ✅ 추가: hover시에도 세로 중앙 기준 유지 */
.mplg .cal-header .nav:hover{ transform: translateY(calc(-50% - 1px)); }

.mplg .cal-header .prev{ grid-area: prev; left: 0; }
.mplg .cal-header .next{ grid-area: next; right: 0; }

/* 오늘로 버튼 (겹침 방지, 크기 유지) */
.mplg .cal-header .today{
  grid-area: today;
  justify-self: end;
  background: linear-gradient(90deg, rgba(110,123,242,.22), #FFFFFF 45%, rgba(184,156,255,.20));
  border:1px solid #D4DCF8;
  color:#0f1220;
  font-weight:900;
  height:30px;
  padding:0 10px;
  border-radius:999px;
  font-size:12px;
  min-width:auto;
  white-space:nowrap;
  box-shadow: var(--shadow-sm);
}

/* Calendar grid — 가변 영역(1fr)을 채우되 내부 콘텐츠가 넘쳐도 상단 고정 */
.mplg .cal-grid{
  display:grid; grid-template-columns:repeat(7,1fr); gap:8px;
  align-content: start;      /* 행을 상단 고정(남는 공간은 아래) */
  overflow: hidden;          /* 스크롤바 생성으로 인한 레이아웃 흔들림 방지 */
}
.mplg .cal-grid .wd{ text-align:center; font-size:12px; color:#6A7691; font-weight:800; }
.mplg .cal-grid .emp{ visibility:hidden; }

/* Day cells */
.mplg .cal-grid .day{
  height:42px; border:1px solid var(--line);
  background: linear-gradient(180deg, #FFFFFF, #F6F9FF);
  color:#0f1220; border-radius:12px; font-weight:800;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.9), 0 3px 10px rgba(16,24,40,.08);
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.mplg .cal-grid .day:hover{
  transform: translateY(-1px);
  box-shadow: 0 8px 24px rgba(16,24,40,.12), 0 0 0 1px rgba(170,185,255,.30) inset;
  border-color:#D4DCF8;
}
.mplg .cal-grid .day.sel{
  background: linear-gradient(90deg, rgba(170,185,255,.26), #FFFFFF 40%, rgba(184,156,255,.24));
  border-color:#D4DCF8; font-weight:900;
  box-shadow: 0 0 0 1px rgba(170,185,255,.28) inset;
}

/* Footer actions */
.mplg .cal-actions{
  display:grid; grid-auto-flow:column; gap:8px; margin-top:0; justify-content:end;  /* ✅ 상단 여백 제거(행 갭으로 통일) */
  height: 38px;               /* 풋터 고정 높이로 버튼 위치 고정 */
}
.mplg .cal-actions .pill{
  padding:8px 12px; border-radius: 999px;
  border:1px solid var(--line); background: linear-gradient(180deg, #FFFFFF, #F6F9FF);
  color:#0f1220; font-weight:800; box-shadow: var(--shadow-sm);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, background .15s ease;
}
.mplg .cal-actions .pill:hover{ box-shadow: var(--shadow-md); transform: translateY(-1px); border-color:#D6DEF1; }
.mplg .cal-actions .pill:focus-visible{ outline:none; box-shadow: var(--ring-focus), var(--shadow-sm); }

/* ===== Year summary modal ===== */
.mplg .year-overlay{
  position:fixed; inset:0; background: rgba(12,14,22,.24);
  display:grid; place-items:center; z-index:10000; backdrop-filter: blur(3px);
}
.mplg .year-modal{
  width: min(94vw, 560px); max-height: 90vh; overflow:hidden;
  border-radius: 20px; border:1px solid var(--line);
  background:
    radial-gradient(160% 160% at 0% 0%, rgba(170,185,255,.16), transparent 55%),
    radial-gradient(120% 120% at 100% 0%, rgba(184,156,255,.16), transparent 60%),
    rgba(255,255,255,.98);
  box-shadow: var(--shadow-lg);
  padding: 14px;
}
.mplg .year-head.trio{
  display:grid; grid-template-columns: 1fr max-content; align-items:center; gap:10px; margin-bottom:10px;
}
.mplg .year-head .title{
  font-family: "Cinzel","Pretendard Variable", Pretendard, "Noto Sans KR", serif;
  font-size:20px; font-weight:700; letter-spacing:.35px; color:#0f1220;
}
.mplg .year-head .title.white{ color:#0f1220; }

.mplg .year-head .year-head-controls{
  display:grid; grid-auto-flow: column; align-items:center; gap:10px;
}

/* A11y hide */
.mplg .sr-only{
  position:absolute !important; width:1px !important; height:1px !important;
  padding:0 !important; margin:-1px !important; overflow:hidden !important; clip:rect(0,0,0,0) !important; white-space:nowrap !important; border:0 !important;
}

/* Custom year dropdown */
.mplg .year-dd{ position:relative; }
.mplg .year-trigger{
  height:40px; min-width:110px;
  display:inline-flex; align-items:center; justify-content:space-between;
  padding:0 12px; border-radius:10px; border:1px solid var(--line);
  background: linear-gradient(180deg, #FFFFFF, #F6F9FF);
  color:#0f1220; font-weight:800;
  box-shadow: var(--shadow-sm);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, background .15s ease;
}
.mplg .year-trigger:hover{ transform: translateY(-1px); box-shadow: var(--shadow-md); border-color:#D6DEF1; }
.mplg .year-trigger:focus-visible{ outline:none; box-shadow: var(--ring-focus), var(--shadow-sm); }
.mplg .year-trigger .caret{ opacity:.8; }

.mplg .year-menu{
  position:absolute; top:calc(100% + 6px); right:0; z-index:10;
  width:160px; max-height: 280px; overflow:auto;
  border-radius:12px; border:1px solid var(--line);
  background: linear-gradient(180deg, #FFFFFF, #F6F9FF);
  box-shadow: var(--shadow-md);
}
.mplg .year-option{
  width:100%; text-align:left;
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:10px 12px; border:0;
  background:linear-gradient(180deg, #FFFFFF, #F7FAFF);
  color:#0f1220; font-weight:700;
  transition: background .15s ease;
}
.mplg .year-option:hover{ background: #EEF3FF; }
.mplg .year-option.sel{
  background: linear-gradient(90deg, rgba(170,185,255,.26), rgba(184,156,255,.24));
  color:#0c0f15; font-weight:900;
}

/* 닫기 버튼 */
.mplg .year-head .x.square{
  width:40px; height:40px; border-radius:10px;
  border:1px solid var(--line); background: linear-gradient(180deg, #FFFFFF, #F6F9FF);
  color:#0f1220; display:grid; place-items:center; box-shadow: var(--shadow-sm);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.mplg .year-head .x.square:hover{ transform: translateY(-1px); box-shadow: var(--shadow-md); border-color:#D6DEF1; }

/* Body */
.mplg .year-body{
  overflow-y:auto;
  max-height: calc(90vh - 14px - 50px - 54px);
  padding-right:6px; scrollbar-gutter: stable;
}

/* ===== Year Table (정렬 & 탭울러 숫자) ===== */
.mplg .year-table{ display:grid; gap:8px; margin-top:6px; }
.mplg .y-row{
  display:grid; grid-template-columns: 60px 1fr 1fr 1fr; gap:10px;
  padding:10px 12px; border-radius:12px; border:1px solid var(--line); background: #FFFFFF;
  box-shadow: var(--shadow-sm);
  font-variant-numeric: tabular-nums;
}
.mplg .y-row.y-head{ background: #EEF3FF; font-weight:900; }

/* 2~4열 금액 우측 정렬 */
.mplg .y-row > div:nth-child(2),
.mplg .y-row > div:nth-child(3),
.mplg .y-row > div:nth-child(4){
  text-align: right;
  font-variant-numeric: tabular-nums;
  white-space: nowrap;
}

.mplg .y-row .pos{ color:#065F46; font-weight:800; }
.mplg .y-row .neg{ color:#7F1D1D; font-weight:800; }
.mplg .y-row .diff.pos{ color:#3B57CC; }
.mplg .y-row .diff.neg{ color:#8E2731; }
.mplg .y-row.y-month{ cursor:pointer; transition: transform .12s ease, box-shadow .12s ease; }
.mplg .y-row.y-month:hover{ transform: translateY(-1px); box-shadow: var(--shadow-md); }
.mplg .y-row .nowrap{ white-space: nowrap; }

/* Month details (일별) — 동일 정렬 */
.mplg .y-days{
  display:grid; gap:6px; margin:8px 0 12px 0;
  padding:10px; border-radius:12px; border:1px dashed #E1E6F2; background: #FFFFFF;
  font-variant-numeric: tabular-nums;
}
.mplg .y-days-row{
  display:grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap:8px;
  padding:8px 10px; border-radius:8px; border:1px solid #EAF0FF; background: #FFFFFF;
}

/* ✅ [수정] 일자(1열) 좌측 정렬 */
.mplg .y-days-row > div:first-child{
  text-align: left;           /* ← center 에서 left 로 변경 */
  white-space: nowrap;
}

/* ✅ [유지/명시] 금액(2~4열) 모두 우측 정렬 + 탭울러 숫자 */
.mplg .y-days-row > div:nth-child(2),
.mplg .y-days-row > div:nth-child(3),
.mplg .y-days-row > div:nth-child(4){
  text-align: right;
  font-variant-numeric: tabular-nums;
  white-space: nowrap;
}

.mplg .y-days-empty{ color:#6B7280; text-align:center; padding:8px 0; }
.mplg .nowrap-rows > *{ white-space: nowrap; }
.mplg .small-rows{ font-size: 13px; }

.mplg .loading{ text-align:center; color:#6B7280; padding:8px 0; }
.mplg .year-foot{ display:grid; justify-content:end; margin-top:12px; }
