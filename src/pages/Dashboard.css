/* ===== Dashboard Theme ===== */
:root {
  --dash-purple: #7c3aed;          /* 보라 포인트 */
  --dash-purple-50: rgba(124, 58, 237, 0.06);
  --dash-purple-100: rgba(124, 58, 237, 0.12);
  --dash-blue: #1d4ed8;            /* D-Day 파랑 */
  --dash-red: #dc2626;             /* D- (예정) 빨강 */
  --dash-brown: #92400e;           /* D+ (지남) 갈색 */
  --dash-border: #e5e7eb;          /* 카드 경계선 */
  --dash-ink: #111827;             /* 본문 텍스트 */
  --dash-muted: #6b7280;           /* 보조 텍스트 */
  --dash-bg: #ffffff;              /* 바탕 */

  --dash-title: #111827;
  --dash-sub: #6b7280;

  --tag-first-bg: #eef2ff;   /* 1차정산 연한 남색 */
  --tag-first-fg: #3730a3;
  --tag-ex-bg: #fdf2f8;      /* 보증금제외 연한 분홍 */
  --tag-ex-fg: #9d174d;
}

/* 페이지 전체(사이드바 오른쪽 공간을 꽉 채우는 컨테이너) */
.dash-container {
  background: var(--dash-bg);
  color: var(--dash-ink);
  width: 100%;
  min-height: 100%;
  padding: 18px 18px 22px;
}

/* 상단 chip(기준) - 커스텀 드롭다운 트리거 */
.dash-chip {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 8px 14px;
  border-radius: 9999px;
  border: 1px solid rgba(124, 58, 237, 0.35);
  background: var(--dash-purple-50);
  font-size: 13px;
  color: var(--dash-muted);
  cursor: default;
}
.dash-chip i { color: var(--dash-purple); }

/* ▶︎ 상단 라인 (기준 + 미니칩들) */
.dash-topbar{
  display:flex; align-items:center; justify-content:space-between;
}
.dash-topbar-left{
  display:flex; gap:10px; align-items:center;
}
.dash-topbar-right{
  display:flex; align-items:center;
}

/* ▶︎ 미니 칩들 (럭셔리 톤) */
.mini-chip{
  position:relative;
  display:inline-flex; align-items:center; gap:8px;
  padding:7px 12px;
  border-radius:9999px;
  background: linear-gradient(180deg, rgba(124,58,237,0.10), rgba(124,58,237,0.03));
  border:1px solid rgba(124,58,237,0.28);
  box-shadow: 0 4px 16px rgba(124,58,237,0.12), inset 0 1px 0 rgba(255,255,255,0.6);
  cursor:pointer;
  user-select:none;
}
.mini-chip--neutral{
  background: linear-gradient(180deg, rgba(17,24,39,0.06), rgba(17,24,39,0.02));
  border:1px solid rgba(17,24,39,0.18);
  box-shadow: 0 4px 16px rgba(17,24,39,0.12), inset 0 1px 0 rgba(255,255,255,0.6);
}
.mini-icon{ font-size:16px; opacity:.9; }
.mini-label{ font-size:12.5px; font-weight:700; color:#1f2937; letter-spacing:.1px; }
.mini-count{
  font-size:12px; font-weight:800;
  padding:2px 8px; border-radius:9999px;
  background:#fff; color:#111827; border:1px solid rgba(17,24,39,0.12);
}
.mini-count.ok{ background:#f0fdf4; color:#065f46; border-color:#bbf7d0; }
.mini-count.warn{ background:#fff1f2; color:#9f1239; border-color:#fecdd3; }

/* ▶︎ 칩 팝오버 */
.chip-pop{
  position:absolute; top:calc(100% + 8px); left:0;
  min-width:280px; max-width:360px;
  background:#fff; border:1px solid rgba(0,0,0,.08);
  border-radius:14px; box-shadow:0 18px 40px rgba(17,24,39,.18);
  overflow:hidden; z-index:60;
}
.chip-pop-head{
  padding:10px 12px; font-size:12px; font-weight:800; color:#374151;
  background:linear-gradient(180deg, rgba(124,58,237,0.08), rgba(124,58,237,0.02));
  border-bottom:1px solid rgba(0,0,0,.06);
}
.chip-pop-list{ max-height:240px; overflow:auto; }
.chip-pop-list .item{
  display:grid; grid-template-columns:64px 56px 1fr; gap:6px;
  padding:10px 12px; font-size:12.5px; border-top:1px solid rgba(0,0,0,.04);
}
.chip-pop-list .item:first-child{ border-top:0; }
.chip-pop-list .date{ color:#6b7280; font-variant-numeric: tabular-nums; }
.chip-pop-list .date.strong{ color:#111827; font-weight:800; }
.chip-pop-list .time{ color:#4b5563; font-variant-numeric: tabular-nums; }
.chip-pop-list .title{ color:#1f2937; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.chip-pop-list .title.dim{ color:#6b7280; }
.chip-pop-list .empty{
  padding:14px 12px; color:#9ca3af; text-align:center;
}

/* (버튼 스타일은 유지해도 되지만, 현재 버튼을 렌더링하지 않음) */
.chip-pop-actions{
  display:none;
}
.chip-link{
  display:none;
}

/* 카드 공통 */
.dash-card {
  border: 1px solid var(--dash-border);
  border-radius: 16px;
  background: #fff;
  overflow: hidden;
  box-shadow: 0 1px 8px rgba(17, 24, 39, 0.04);
  transition: box-shadow .18s ease;
}
.dash-card:hover { box-shadow: 0 6px 18px rgba(17, 24, 39, 0.08); }

/* 카드 헤더 */
.dash-card__head {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--dash-border);
  background: linear-gradient(180deg, var(--dash-purple-50), rgba(124,58,237,0.02));
}
.dash-head--blue { background: linear-gradient(180deg, rgba(29,78,216,0.06), rgba(29,78,216,0.02)); }
.dash-head--amber { background: linear-gradient(180deg, rgba(217,119,6,0.06), rgba(217,119,6,0.02)); }

.dash-card__icon { font-size: 18px; color: var(--dash-purple); }
.dash-card__title { font-size: 14.5px; font-weight: 700; color: #374151; }

/* 헤더: 금액 표시(제목 뒤) */
.dash-head-sum {
  font-weight: 800;
  color: #111827;
  margin-left: 8px;
  font-size: 13.5px;
}

/* 우측 메타(건수) */
.dash-card__meta {
  margin-left: auto;
  font-size: 12.5px;
  color: var(--dash-ink);
  font-weight: 700;
}

/* 리스트 */
.dash-list { max-height: 16rem; overflow: auto; }
.dash-list__item {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 16px;
  font-size: 13.5px;
  border-top: 1px solid var(--dash-border);
  transition: background-color .15s ease, transform .06s ease;
  cursor: pointer;
}
.dash-list__item:first-child { border-top: 0; }
.dash-list__item:hover { background: var(--dash-purple-50); }
.dash-list__item:active { background: var(--dash-purple-100); transform: translateY(0.5px); }

/* 클릭 가능 변형(하단 패널 라인 전용) */
.dash-list__item--clickable { cursor: pointer; }

/* 텍스트 통일 */
.title {
  font-weight: 600;
  color: var(--dash-title);
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
}
.sub {
  font-size: 12px;
  color: var(--dash-sub);
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
}

.date { font-size: 12px; color: var(--dash-sub); }
.dash-dd { font-size: 12px; font-weight: 700; }
.dash-dd--day   { color: var(--dash-blue); }
.dash-dd--minus { color: var(--dash-red); }   /* D- (예정) */
.dash-dd--plus  { color: var(--dash-brown); } /* D+ (지남) */

/* 빈 상태 */
.dash-empty {
  padding: 24px 16px;
  font-size: 13px;
  color: #9ca3af;
}

/* 배지 (1차정산 / 보증금제외) */
.tag {
  display: inline-block;
  padding: 2px 6px;
  border-radius: 9999px;
  font-size: 11px;
  line-height: 1;
  vertical-align: middle;
  border: 1px solid transparent;
}
.tag--first   { background: var(--tag-first-bg); color: var(--tag-first-fg); border-color: #c7d2fe; }
.tag--exclude { background: var(--tag-ex-bg);   color: var(--tag-ex-fg);   border-color: #fbcfe8; }

/* 그리드 */
.dash-grid { display: grid; gap: 14px; }
.dash-grid.top   { grid-template-columns: repeat(1, minmax(0, 1fr)); }
.dash-grid.bottom{ grid-template-columns: repeat(1, minmax(0, 1fr)); }

@media (min-width: 900px) {
  .dash-grid.top   { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .dash-grid.bottom{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
}
@media (min-width: 1280px) {
  .dash-grid.top   { grid-template-columns: repeat(5, minmax(0, 1fr)); }
  .dash-grid.bottom{ grid-template-columns: repeat(4, minmax(0, 1fr)); } /* 미수금 포함 4칸 */
}

/* 전역 텍스트 스무딩 */
.sharp-text, .sharp-text * {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: geometricPrecision;
}

/* ================================
   ⬇⬇⬇ 스크롤바(옅은 퍼플) 통일 ⬇⬇⬇
================================ */

/* Firefox */
.dash-card,
.dash-list,
.chip-pop-list {
  scrollbar-width: thin;
  scrollbar-color: rgba(124, 58, 237, 0.45) rgba(124, 58, 237, 0.10);
}

/* WebKit */
.dash-card::-webkit-scrollbar,
.dash-list::-webkit-scrollbar,
.chip-pop-list::-webkit-scrollbar {
  width: 10px; height: 10px;
}
.dash-card::-webkit-scrollbar-thumb,
.dash-list::-webkit-scrollbar-thumb,
.chip-pop-list::-webkit-scrollbar-thumb {
  background-color: rgba(124, 58, 237, 0.45);
  border-radius: 9999px;
  border: 2px solid rgba(124, 58, 237, 0.18);
}
.dash-card::-webkit-scrollbar-thumb:hover,
.dash-list::-webkit-scrollbar-thumb:hover,
.chip-pop-list::-webkit-scrollbar-thumb:hover {
  background-color: rgba(124, 58, 237, 0.60);
}
.dash-card::-webkit-scrollbar-track,
.dash-list::-webkit-scrollbar-track,
.chip-pop-list::-webkit-scrollbar-track {
  background: rgba(124, 58, 237, 0.10);
  border-radius: 9999px;
}
