/* ====== 오버레이 ====== */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ====== 모달 박스 ====== */
.modal-box {
  background: #fff;
  width: 700px;
  max-width: 90vw;
  max-height: 90vh;
  padding: 0;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* ====== 헤더 ====== */
.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 20px 24px;
  border-bottom: 1px solid #eee;
}

.modal-title { font-size: 20px; font-weight: 700; margin: 0; }
.modal-close { border: none; background: transparent; font-size: 24px; line-height: 1; cursor: pointer; color: #666; }

/* (선택) 작은 섹션 타이틀용 */
.modal-subtitle { font-weight: 600; margin: 4px 0 8px; font-size: 13px; color: #6b7280; }

/* ====== 내용 영역 ====== */
.modal-content {
  padding: 24px;
  overflow: auto;
  overscroll-behavior: contain;
}

/* ====== 푸터 ====== */
.modal-footer {
  position: sticky;
  bottom: 0;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  padding: 12px 24px;
  z-index: 1;
}

/* ====== 입력 레이아웃 ====== */
.modal-grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px 24px; margin-bottom: 24px; }
.modal-grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px 24px; margin-bottom: 24px; }
.modal-grid-1 { display: grid; grid-template-columns: 1fr; gap: 16px 24px; margin-bottom: 24px; }

/* ✅ 필드 블록: label + input 묶음 */
.modal-grid-3 .form-field,
.modal-grid-2 .form-field,
.modal-grid-1 .form-field { display: flex; flex-direction: column; }

/* ====== label ====== */
.form-field label { font-weight: 600; font-size: 14px; margin-bottom: 6px; color: #333; }

/* ====== 입력 요소 ====== */
.form-field input,
.form-field select,
.form-field textarea {
  width: 100%;
  padding: 8px 12px;
  border: 2px solid #ddd;
  border-radius: 6px;
  font-size: 14px;
  background: #fff;
  box-sizing: border-box;
  transition: all 0.2s ease;
}
.form-field input:focus,
.form-field select:focus,
.form-field textarea:focus {
  outline: none;
  border: 2px solid #7A5FFF;
  box-shadow: 0 0 0 3px rgba(122, 95, 255, 0.2);
  background-color: #fdfaff;
}

/* ====== 구분선 ====== */
hr { border: none; border-top: 1px solid #eee; margin: 24px 0; }

/* ====== 버튼 ====== */
.save-btn, .close-btn { font-size: 14px; padding: 10px 20px; border-radius: 6px; border: none; cursor: pointer; font-weight: 600; }
.save-btn { background-color: #7A5FFF; color: white; border: 2px solid transparent; transition: all 0.2s ease; }
.save-btn:hover { background-color: #9B7DFF; border: 2px solid #BFAEFF; box-shadow: 0 0 0 3px rgba(122, 95, 255, 0.3); }
.close-btn { background-color: #ccc; color: black; border: 2px solid transparent; transition: all 0.2s ease; }
.close-btn:hover { background-color: #e0e0e0; border: 2px solid #aaa; box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1); }

/* ====== 반응형 ====== */
@media (max-width: 1024px) { .modal-box { width: 92vw; } .modal-grid-3 { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 640px)  { .modal-grid-3, .modal-grid-2 { grid-template-columns: 1fr; } }

.readonly-inline {
  margin-bottom: 24px;
  padding: 12px 20px;
  background-color: #f8f8f8;
  font-size: 14px;
  font-weight: 500;
  color: #444;
  display: flex;
  gap: 10px;
  border-bottom: 1px solid #eee;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.readonly-inline span { display: inline-block; overflow: hidden; text-overflow: ellipsis; }
.readonly-chip { margin-right: 10px; color:#555; }
.input-readonly { background:#f7f7f7; color:#666; cursor:not-allowed; }

/* ==== 이사정산 등록/수정 전용 레이아웃 (요청 레이아웃 고정) ==== */
/* 행 구성
   0) .            .            payerPhone
   1) moveDate     villaName    unitNumber
   2) arrears      currentMonth currentReading
   3) previousReading waterFee  unitPrice
   4) electricity  tvFee        cleaningFee
   5) extraItems   extraAmount  status
   5.5) extrasList extrasList   extrasList   <-- ✅ 추가내역 리스트: 입력칸 바로 아래, 한 줄 전체폭
   6) totalAmount  totalAmount  .
   7) photos       note         note
*/
.modal-grid-moveout {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px 16px;
  align-items: start;
  grid-template-areas:
    ". . payerPhone"
    "moveDate villaName unitNumber"
    "arrears currentMonth currentReading"
    "previousReading waterFee unitPrice"
    "electricity tvFee cleaningFee"
    "extraItems extraAmount status"
    "extrasList extrasList extrasList"   /* ✅ 여기 추가 */
    "totalAmount totalAmount ."
    "photos note note";
}

/* grid-area 매핑 */
.modal-grid-moveout .field-payerPhone      { grid-area: payerPhone; }
.modal-grid-moveout .field-moveDate        { grid-area: moveDate; }
.modal-grid-moveout .field-villaName       { grid-area: villaName; }
.modal-grid-moveout .field-unitNumber      { grid-area: unitNumber; }

.modal-grid-moveout .field-arrears         { grid-area: arrears; }
.modal-grid-moveout .field-currentMonth    { grid-area: currentMonth; }
.modal-grid-moveout .field-currentReading  { grid-area: currentReading; }

.modal-grid-moveout .field-previousReading { grid-area: previousReading; }
.modal-grid-moveout .field-waterFee        { grid-area: waterFee; }
.modal-grid-moveout .field-unitPrice       { grid-area: unitPrice; }

.modal-grid-moveout .field-electricity     { grid-area: electricity; }
.modal-grid-moveout .field-tvFee           { grid-area: tvFee; }
.modal-grid-moveout .field-cleaningFee     { grid-area: cleaningFee; }

.modal-grid-moveout .field-extraItems      { grid-area: extraItems; }
.modal-grid-moveout .field-extraAmount     { grid-area: extraAmount; }
.modal-grid-moveout .field-status          { grid-area: status; }

/* ✅ 리스트 전용 영역 매핑 */
.modal-grid-moveout .field-extras-list     { grid-area: extrasList; }

/* 합계/사진/비고 */
.modal-grid-moveout .field-totalAmount     { grid-area: totalAmount; }
.modal-grid-moveout .field-photos          { grid-area: photos; }
.modal-grid-moveout .field-note            { grid-area: note; }

/* 기본 form-field는 영역 배치에 맡김(충돌 방지) */
.modal-grid-moveout .form-field { grid-column: auto; }

/* 강조 */
.modal-grid-moveout .field-totalAmount input { font-weight: 700; }

/* 버튼 느낌의 입력 (사진/비고 트리거) — 기존 레이아웃 유지 */
.modal-grid-moveout .field-photos input {
  background: #a7d9b2; border: none; font-weight: 700; text-align: center; height: 44px; cursor: pointer;
}
.modal-grid-moveout .field-note input {
  background: #f1b183; border: none; font-weight: 700; text-align: center; height: 44px; cursor: pointer;
}

/* 라벨 정렬/간격 */
.modal-grid-moveout .form-field label { display: block; font-size: 13px; margin-bottom: 6px; color: #333; }

/* 반응형: 좁은 화면에서는 영역 고정 해제 후 주요 필드 전체폭 */
@media (max-width: 1024px) {
  .modal-grid-moveout { grid-template-columns: repeat(2, minmax(0, 1fr)); grid-template-areas: none; }
  .modal-grid-moveout .field-totalAmount,
  .modal-grid-moveout .field-photos,
  .modal-grid-moveout .field-note { grid-column: 1 / -1; }
}
@media (max-width: 640px) {
  .modal-grid-moveout { grid-template-columns: 1fr; grid-template-areas: none; }
  .modal-grid-moveout .field-totalAmount,
  .modal-grid-moveout .field-photos,
  .modal-grid-moveout .field-note { grid-column: 1 / -1; }
}

/* 이사날짜만 높이/글자/너비 조절 */
.field-moveDate .react-datepicker__input-container input {
  height: 42px;
  padding: 10px 12px;
  font-size: 15px;
  width: 206PX;
  /* max-width: 180px; */
}
